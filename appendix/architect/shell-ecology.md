#### Bash 参数说明

- `$#`是传给脚本的参数个数
- `$0`是脚本本身的名字
- `$1`是传递给该shell脚本的第一个参数
- `$2`是传递给该shell脚本的第二个参数
- `$@`是传给脚本的所有参数的列表
- `$*`是以一个单字符串显示所有向脚本传递的参数，与位置变量不同，参数可超过9个
- `$$`是脚本运行的当前进程ID号
- `$?`是显示最后命令的退出状态，0表示没有错误，其他表示有错误

```bash
$ echo "PWD = $PWD"
$ echo "OLDPWD = $OLDPWD"
```

```bash
# 获得字符串的长度
$ echo ${#PATH}
$ echo ${#PS1}

# 获取当前使用SHELL
$ echo $SHELL
$ echo $0
```

```bash
$ bash scripts/shell-envs.md
```

#### `Shell`特殊字符

- 双引号`"`：用来使`Shell`无法认出除字符`$`、`` ` ``、`\`之外的任何字符或字符串，也称之为弱引用。
- 单引号`'`：用来使`Shell`无法认出所有的特殊字符，也称之为强引用。
- 反引号`` ` ``：优先执行当前命令。
- 反斜杠`\`：有两种作用，一种是用来使`Shell`无法认出其后的字符，使其后的字符失去特殊的含义，如有特殊含义的字符`$`，也称为转义符。另外，如果放在指令前，有取消别名的作用，例如在`"\rm /home/james/*.log"`中，`rm` 指令前加上`\`，作用是暂时取消别名的功能，将`rm`指令还原。
- 分号`;`：允许在一行上放多个命令。
- `&`：将命令放于后台执行，建议带上`nohup`。
- 小括号`()`：创建成组的命令。
- 大括号`{}`：创建命令块。
- `<>&`：重定向。
- `*?[]!`：表示模式匹配。
- `$`：变量名的开头。
- `#`：表示注释（第一行除外）。
- 空格、制表符、换行符：当作空白。

### `console_codes`

```bash
$ man console_codes
```

#### 命令提示符

```bash
$ echo "PS1 = $PS1"
$ echo "PS2 = $PS2"
$ echo "PS3 = $PS3"
$ echo "PS4 = $PS4" 
```

- `\W`: 当前工作目录的`basename`
- `\w`: 当前工作目录的全路径
- `\d`: 日期，默认格式为'周月日'
- `\H`: 完整的主机名
- `\h`: 主机名
- `\t`: 24小时制的时间，格式为`HH:MM:SS`
- `\T`: 12小时制的时间
- `\u`: 当前用户的用户名
- `\$`: 如果UID是0则显示`#`否则显示`$`

#### 彩色输出

脚本可以使用转义序列在终端中生成彩色文本，文本颜色是由对应的色彩码来描述的。
其中包括：

|         | 重置  | 黑色 | 红色  | 绿色 | 黄色  | 蓝色  | 洋红  | 青色  | 白色 |
| --------| ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |
| 文本颜色 | 0    | 30   | 31   | 32   | 33   | 34   | 35   | 36   | 37   |
| 彩色背景 | 0    | 40   | 41   | 42   | 43   | 44   | 45   | 46   | 47   |

- 要打印彩色文本，可输入如下命令：`echo -e "\e[1;31m This is red text \e[0m"`。
    > 其中`\e[1;31m`是一个转义字符串，可以将颜色设为红色，`\e[0m`将颜色重新置回。只需要将`31`替换成想要的色彩码就可以了。
- 要设置彩色背景的话，可输入如下命令：`echo -e "\033[42m This is green backgroud \033[0m"`。

```bash
$ echo -e "\033[30m 黑色字 Black \033[0m"
$ echo -e "\033[31m 红色字 Red \033[0m"
$ echo -e "\033[32m 绿色字 Green \033[0m"
$ echo -e "\e[32m 绿色字 Green \033[0m"
$ echo -e "\033[33m 黄色字 Yellow \033[0m"
$ echo -e "\033[34m 蓝色字 Blue \033[0m"
$ echo -e "\033[35m 紫色字 Purple \033[0m"
$ echo -e "\033[36m 天蓝字 SkyBlue \033[0m"
$ echo -e "\033[37m 白色字 White \033[0m"

$ echo -e "\e[42;31m 绿底红字 \e[0m"
$ echo -e "\e[31;42m 红字绿底 \e[0m"
```