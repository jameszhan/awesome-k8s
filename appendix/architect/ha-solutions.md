#### 在设计网站的系统架构之前，应该从以下方面考虑如何选购服务器：

- 服务器要运行什么应用。
- 需要支持多少用户访问。
- 需要多大空间来存储数据。
- 业务有多重要。
- 服务器网卡方面的考虑。
- 安全方面的考虑。
- 机架安排是否合理化。
- 服务器的价格是否超出了预算。

#### 负载均衡器

- `LVS`
- `HAProxy`
- `AWS ELB`

#### 缓存服务器

- `Varnish`
- `Redis`

#### 诊断工具：`top`、`ps`、`netstat`和`iostat`

- `top`: 查看（虚拟）机器上运行的所有进程。
- `ps`: 列出（虚拟）机器上运行的所有进程。
- `netstat`: 查看（虚拟）机器上所有的网络连接。
- `iostat`: 列出连接到（虚拟）机器的所有块设备（磁盘驱动）的`I/O`统计。
- `dig` `or` `nslookup`: 提供`DNS`地址信息。
- `ping`: 检查是否可以通过网络访问某个`IP`或者域名。
- `tracert`: 跟踪网络中（包括内网和`Internet`）某个`IP`包的路由。
- `tcpdump`: 对`TCP`网络流量进行嗅探。这是一个高级工具，但是在云环境中非常有用，因为云环境中的大部分通信都是基于`TCP`的。
- `strace`: 跟踪系统调用。这是一个高级工具，但是在调试容器或安全问题时非常有用。
- [`sysdig`](https://www.sysdig.org/install/): 一个有用的容器感知诊断工具。
- [`systemd-cgtop`](http://bit.ly/2xFaFaX): 一个systemd工具，以类似top的方式来查看cgroups（容器）中的数据。
- [`atomic top`和`docker top`](http://bit.ly/2Dxz3kd): 分别由Red Hat和Docker提供的实用程序，用来检查容器中运行的进程

#### DRBD

分布式块设备复制（Distributed Replicated Block Device，DRBD），是一种基于软件的、基于网络的块复制存储解决方案，主要用于对服务器之间的磁盘、分区、逻辑卷等进行数据镜像。当用户将数据写入本地磁盘时，还会将数据发送到网络中另一台主机的磁盘上，这样本地主机（主节点）与远程主机（备节点）的数据就可以保证实时同步，当本地主机出现问题，远程主机上还保留着一份相同的数据，可以继续使用，保证了数据的安全。


## 附录

#### 常见概念

- `PV`(访问量)即`Page View`，中文翻译为页面浏览，即页面浏览量或单击量，不管客户端是不是相同，也不管`IP`是不是相同，用户只要访问网站页面就会被计算`PV`，一次计一个`PV`。
- `UV`(独立访客)即`Unique Visitor`，同一个客户端(PC或移动端)访问网站被计为一个访客。一天`(00:00-24:00)`内相同的客户端访问同一个网站只计一次`UV`。`UV`一般是以客户端`Cookie`等技术作为统计依据的，实际统计会有误差。